{"config":{"indexing":"full","lang":["en"],"min_search_length":3,"prebuild_index":false,"separator":"[\\s\\-]+"},"docs":[{"location":"","text":"MINT - Metabolomics Integrator MINT is a post-processing tool for liquid chromatography-mass spectrometry (LCMS) based metabolomics . Metabolomics is the study of all metabolites (small chemical compounds) in a biological sample e.g. from bacteria or a human blood sample. The metabolites can be used to define biomarkers used in medicine to find treatments for diseases or for the development of diagnostic tests or for the identification of pathogens such as methicillin resistant Staphylococcus aureus (MRSA). Figure 1: Flowchart of MINT processing workflow. Quickstart Check out the Quickstart to jump right into it. What is it all about? What problem is MINT solving? Check out the background section. How to use the Python API? Go to the Jupyter section.","title":"Home"},{"location":"#mint-metabolomics-integrator","text":"MINT is a post-processing tool for liquid chromatography-mass spectrometry (LCMS) based metabolomics . Metabolomics is the study of all metabolites (small chemical compounds) in a biological sample e.g. from bacteria or a human blood sample. The metabolites can be used to define biomarkers used in medicine to find treatments for diseases or for the development of diagnostic tests or for the identification of pathogens such as methicillin resistant Staphylococcus aureus (MRSA). Figure 1: Flowchart of MINT processing workflow.","title":"MINT - Metabolomics Integrator"},{"location":"#quickstart","text":"Check out the Quickstart to jump right into it.","title":"Quickstart"},{"location":"#what-is-it-all-about","text":"What problem is MINT solving? Check out the background section.","title":"What is it all about?"},{"location":"#how-to-use-the-python-api","text":"Go to the Jupyter section.","title":"How to use the Python API?"},{"location":"background/","text":"Background What is LCMS? A typical biological sample, such as human blood or agar with some kind of bacteria, can contain thousands of metabolites such as sugars, alcohols, amino acids, nucleotides and more. To meassure the composition of such a sample mass spectrometry can be used. However, many metabolites share exact masses with other metabolites and therefore would be undistiguishable in the mass spectrometer. Therefore, compounds are sorted using column chromatography and spread out over time. The metabolites that enter the column at the same time interact with the column in different ways based on their specific stereochemistry. These interactions let compounds move faster or slower through the column and therefore the compounds will elude at different times. That way various metabolites can be analysed successively over certain timeframe rather than simultaneously. The mass spectrometer that follows the chromatographic column meassures the masses given at each point in time and returns a time dependent spectrogram. An example of a LSMS meassurement is visualized in the following figure: Figure 1: A 2D-histogram of a MS1 recorded intensities taken over time span of 10 minutes. Shown are m/z values between 100 and 600 [Da/z]. If we zoom into this figure to a very narrow band of masses the traces of individual metabolites can be observed. The trace of succinate (or succinic acid ) is shown here: Figure 2: A zoom into the 2D histogram shown in figure 1. This illustrates how dense and precise the information in a LCMS messurement is. For comparison the M/Z value of an electron is 5.489e-4. Processing LCMS data After the data has been collected on a mass spectrometer (MS) and stored in a (usually) vendor specific format the data can be subjected to analysis. To process data with MINT the data has to be provided in an open format (mzML or mzXML). Instead of analysing the raw LCMS data it is common practise to deconvolute the data and sum up the signal of individual metabolites. The processed data should be proportional to the amount of metabolite in the sample. However, the meassured intensities will not reflect the relative concentrations between different compounds, only between different samples. For example, due to different ion efficiences compound A might have a stronger signal than compound B even if the compound B is present at higher concentration. Therefore, the intensities can only be use to compare relative amounts. To estimate absolute concentrations a calibration curve has to be created for every single metabolite. The binning transforms the semi-structured data into a structured format where each column stands for one particular metabolite. Often the data is normalized for each metabolite to reflect the relative intensities across multiple samples. The structured data can then be subjected to common data anayses such as dimensionality reduction, or clustering analysis. Figure 3: Clustering analysis for a small set of metabolites across 12 different samples including 3 different pathogens (EC: E. coli , SA: S. aureus , CA: C. albicans ).","title":"Background"},{"location":"background/#background","text":"","title":"Background"},{"location":"background/#what-is-lcms","text":"A typical biological sample, such as human blood or agar with some kind of bacteria, can contain thousands of metabolites such as sugars, alcohols, amino acids, nucleotides and more. To meassure the composition of such a sample mass spectrometry can be used. However, many metabolites share exact masses with other metabolites and therefore would be undistiguishable in the mass spectrometer. Therefore, compounds are sorted using column chromatography and spread out over time. The metabolites that enter the column at the same time interact with the column in different ways based on their specific stereochemistry. These interactions let compounds move faster or slower through the column and therefore the compounds will elude at different times. That way various metabolites can be analysed successively over certain timeframe rather than simultaneously. The mass spectrometer that follows the chromatographic column meassures the masses given at each point in time and returns a time dependent spectrogram. An example of a LSMS meassurement is visualized in the following figure: Figure 1: A 2D-histogram of a MS1 recorded intensities taken over time span of 10 minutes. Shown are m/z values between 100 and 600 [Da/z]. If we zoom into this figure to a very narrow band of masses the traces of individual metabolites can be observed. The trace of succinate (or succinic acid ) is shown here: Figure 2: A zoom into the 2D histogram shown in figure 1. This illustrates how dense and precise the information in a LCMS messurement is. For comparison the M/Z value of an electron is 5.489e-4.","title":"What is LCMS?"},{"location":"background/#processing-lcms-data","text":"After the data has been collected on a mass spectrometer (MS) and stored in a (usually) vendor specific format the data can be subjected to analysis. To process data with MINT the data has to be provided in an open format (mzML or mzXML). Instead of analysing the raw LCMS data it is common practise to deconvolute the data and sum up the signal of individual metabolites. The processed data should be proportional to the amount of metabolite in the sample. However, the meassured intensities will not reflect the relative concentrations between different compounds, only between different samples. For example, due to different ion efficiences compound A might have a stronger signal than compound B even if the compound B is present at higher concentration. Therefore, the intensities can only be use to compare relative amounts. To estimate absolute concentrations a calibration curve has to be created for every single metabolite. The binning transforms the semi-structured data into a structured format where each column stands for one particular metabolite. Often the data is normalized for each metabolite to reflect the relative intensities across multiple samples. The structured data can then be subjected to common data anayses such as dimensionality reduction, or clustering analysis. Figure 3: Clustering analysis for a small set of metabolites across 12 different samples including 3 different pathogens (EC: E. coli , SA: S. aureus , CA: C. albicans ).","title":"Processing LCMS data"},{"location":"developer-notes/","text":"Developer Notes python3 setup.py sdist bdist_wheel python3 -m twine upload --repository ms-mint dist/ms*mint-* Windows executables cd specfiles && pyinstaller --noconfirm Mint.spec ..\\scripts\\Mint.py Documentation deployment mkdocs build && mkdocs gh-deploy Example NGINX config To run Mint on a remote server you need to setup a remote proxy. server { ... location / { proxy_pass http://localhost:8080; client_max_body_size 100G; proxy_set_header X-Forwarded-Proto https; proxy_set_header Host $host; } }","title":"Developer Notes"},{"location":"developer-notes/#developer-notes","text":"python3 setup.py sdist bdist_wheel python3 -m twine upload --repository ms-mint dist/ms*mint-*","title":"Developer Notes"},{"location":"developer-notes/#windows-executables","text":"cd specfiles && pyinstaller --noconfirm Mint.spec ..\\scripts\\Mint.py","title":"Windows executables"},{"location":"developer-notes/#documentation-deployment","text":"mkdocs build && mkdocs gh-deploy","title":"Documentation deployment"},{"location":"developer-notes/#example-nginx-config","text":"To run Mint on a remote server you need to setup a remote proxy. server { ... location / { proxy_pass http://localhost:8080; client_max_body_size 100G; proxy_set_header X-Forwarded-Proto https; proxy_set_header Host $host; } }","title":"Example NGINX config"},{"location":"gallery/","text":"Gallery","title":"Gallery"},{"location":"gallery/#gallery","text":"","title":"Gallery"},{"location":"gui/","text":"MINT GUI Workspaces Add new workspaces Delete workspaces Activate workspace A workspace is a container for project files that is separated from other workspaces. Through workspaces it is possible to work on different projects simultaneously. All files relevant for one workspace are stored in a corresponding sub-folder of --data-dir , which by default is the folder MINT in the users home directory. The home directory is different on different platforms. Under Windows the default folder is: C:/Users/<username>/MINT . The path to the active workspace is always displayed above the workspace tab. To activate a particular workspace the workspace has to be selected in the table and then the ACTIVATE button has to be clicked. DELETE will display a popup window upon confirmation the selected workspace with all corresponding files on the harddrive in --data-dir will be removed. MS-files Import mass spectrometry files (MS-file) in mzXML or mzML format Convert file to feather format (other formats will be removed) Remove MS-files from workspace Mass-Spec files (in mzML or mzXML format) can be added under the MS-files tab by drag and drop or by using the selection form. Due to limitations of the Plotly-Dash framework only up to 10 files can be uploaded at a time. For larger projects, the files can simply be copied manually into the ms-files subdirectory. This will be improved in future versions of MINT. To remove certain files the files have to be selected in the table and the DELETE SELECTED FILES has to be clicked. The files are converted to feather format which is based on Apache Arrow. It is a representation that allows faster read into memory. If files were added manually by copying into the ms-files subdirectory the files can be converted to feather format with the CONVERT TO FEATHER button. Note that mzXML and mzML files will be deleted after convertion. Metadata Select samples used for peak optimization by setting values in the column PeakOpt to True . Add batch labels to analyse for possible batch effects. Add labels to analyse for differences of different groups (e.g. treatment and control) Add types for different files e.g. biological sample, quality control sample, standards etc in order to include ore exclude certain types during analysis. Add other types of metadata. Metadata for the individual files can be edited in the Metadata tab. This data can be used to group results e.g. by batch or by label as well as types. You want to edit metadata table to: Targetlists Import peaklist from CSV file or add new peaks manually Rename peaks definitions or change parameters Delete peak definitions Targetlists are collection of peak definitions for the extraction of MS intensities beloning to individual metabolites. Targetlists can be provided as Excel or CSV files. Targetlists are explained in more detail here . Files can be uploaded via the drag and drop area or the selection tool. The targetlists can be edited in place or with the optimization tools. Add Metabolites Search for metabolites from ChEBI three stars database Add selected metabolites to peaklist (without RT estimation) Peak Optimization Optimize retention times for all peaks or individual peaks Preview all peakshapes with quality indicator Retention times (RT) depend on the experiment and the specific chromatographic column used. Additionally, aging of the column leads to drifts in RT that have to be accounted for. The tools in the peak optimization tab can be used to quickly review all peak definitions in the presently loaded peaklist. The GENERATE PEAK PREVIEWS generates a preview of all peak definitions and plots the coresponding chromatograms for all files. The peaks can be reviewed and modified one by one with the interactive tool. FIND CLOSED PEAKS iterates through all peak definitions and identifes the closest peak with respect to the expected RT which is displayed as black vertical line. Manual (interactive) peak optimization Optimize individual peaks one by one Find bad peaks Remove peaks from peaklist Set expected retention time When a peak is selected in the drop down box the chromatograms for the particular mass windows using the peak width as defined in the peaklist is extracted and displayed. The current rt window is visualized as green box. SET RT TO CURRENT VIEW will set the rt_min and rt_max values to the current view and updated the peaklist accordingly. Processing Run MINT (apply the extraction protocol to all files in the workspace) Download results Reset results and start again When all peaks look good the data can be processed using RUN MINT . This will apply the current peaklist to the MS-files in the workspace and extract additional properties. When the results tables are present the results can be explored with the following tabs. The generated results can be downloaded with the DOWNLOAD button. Analysis After running MINT the results can be downloaed or analysed using the provided tools. For quality control purposes histograms and boxplots can be generated in the quality control tab. The interactive heatmap tool can be used to explore the results data after RUN MINT has been exectuted. The tool allows to explore the generated data in from of heatmaps. General selection elements Include/exclude file types (based on Type column in metadata) Include/exclude peak labels for analysis Set file sorting (e.g. by name, by batch etc.) Select group-by column for coloring and statistics Heatmap The first dropdown menu allows to include certain file types e.g. biological samples rather than quality control samples. The second dropdown menu distinguishes the how the heatmap is generated. Normalized by biomarer: devide values by column maxium. Cluster: Cluster rows with hierachical clustering. Dendrogram: Plots a dendrogram instead of row labels. Transpose: Switch columns and rows. Correlation: Calculate pearson correlation between columns. Show in new tab: The figure will be generated in a new independent tab. That way multiple heatmaps can be generated at the same time. Correlation of (scaled) peak_max Distributions Plot histograms Density distributions Boxplots The MS-files can be grouped based on the values in the metadata table. If nothing is selected the data will not be grouped in order to plot the overall distribution. The second dropdown menu allows to select one or multple kinds of graphs that to generate. The third dropdown menu allows to include certain file types. For example, the analysis can be limited to only the biological samples if such a type has been defined in the type column of the metadata table. The checkbox can be used to create a dense view. If the box is unchecked the output will be visually grouped into an individual section for each metabolite. PCA Perform Principal Component Analysis (PCA) Plot projections to first N principal components Contributions of original variables to each component. Hierarchical clustering Plotting MINT comes with a flexible and powerful plotting interface that is based on the powerful Seaborn library. Bar plots Violin plots Boxen plot Scatter plots and more...","title":"GUI"},{"location":"gui/#mint-gui","text":"","title":"MINT GUI"},{"location":"gui/#workspaces","text":"Add new workspaces Delete workspaces Activate workspace A workspace is a container for project files that is separated from other workspaces. Through workspaces it is possible to work on different projects simultaneously. All files relevant for one workspace are stored in a corresponding sub-folder of --data-dir , which by default is the folder MINT in the users home directory. The home directory is different on different platforms. Under Windows the default folder is: C:/Users/<username>/MINT . The path to the active workspace is always displayed above the workspace tab. To activate a particular workspace the workspace has to be selected in the table and then the ACTIVATE button has to be clicked. DELETE will display a popup window upon confirmation the selected workspace with all corresponding files on the harddrive in --data-dir will be removed.","title":"Workspaces"},{"location":"gui/#ms-files","text":"Import mass spectrometry files (MS-file) in mzXML or mzML format Convert file to feather format (other formats will be removed) Remove MS-files from workspace Mass-Spec files (in mzML or mzXML format) can be added under the MS-files tab by drag and drop or by using the selection form. Due to limitations of the Plotly-Dash framework only up to 10 files can be uploaded at a time. For larger projects, the files can simply be copied manually into the ms-files subdirectory. This will be improved in future versions of MINT. To remove certain files the files have to be selected in the table and the DELETE SELECTED FILES has to be clicked. The files are converted to feather format which is based on Apache Arrow. It is a representation that allows faster read into memory. If files were added manually by copying into the ms-files subdirectory the files can be converted to feather format with the CONVERT TO FEATHER button. Note that mzXML and mzML files will be deleted after convertion.","title":"MS-files"},{"location":"gui/#metadata","text":"Select samples used for peak optimization by setting values in the column PeakOpt to True . Add batch labels to analyse for possible batch effects. Add labels to analyse for differences of different groups (e.g. treatment and control) Add types for different files e.g. biological sample, quality control sample, standards etc in order to include ore exclude certain types during analysis. Add other types of metadata. Metadata for the individual files can be edited in the Metadata tab. This data can be used to group results e.g. by batch or by label as well as types. You want to edit metadata table to:","title":"Metadata"},{"location":"gui/#targetlists","text":"Import peaklist from CSV file or add new peaks manually Rename peaks definitions or change parameters Delete peak definitions Targetlists are collection of peak definitions for the extraction of MS intensities beloning to individual metabolites. Targetlists can be provided as Excel or CSV files. Targetlists are explained in more detail here . Files can be uploaded via the drag and drop area or the selection tool. The targetlists can be edited in place or with the optimization tools.","title":"Targetlists"},{"location":"gui/#add-metabolites","text":"Search for metabolites from ChEBI three stars database Add selected metabolites to peaklist (without RT estimation)","title":"Add Metabolites"},{"location":"gui/#peak-optimization","text":"Optimize retention times for all peaks or individual peaks Preview all peakshapes with quality indicator Retention times (RT) depend on the experiment and the specific chromatographic column used. Additionally, aging of the column leads to drifts in RT that have to be accounted for. The tools in the peak optimization tab can be used to quickly review all peak definitions in the presently loaded peaklist. The GENERATE PEAK PREVIEWS generates a preview of all peak definitions and plots the coresponding chromatograms for all files. The peaks can be reviewed and modified one by one with the interactive tool. FIND CLOSED PEAKS iterates through all peak definitions and identifes the closest peak with respect to the expected RT which is displayed as black vertical line.","title":"Peak Optimization"},{"location":"gui/#manual-interactive-peak-optimization","text":"Optimize individual peaks one by one Find bad peaks Remove peaks from peaklist Set expected retention time When a peak is selected in the drop down box the chromatograms for the particular mass windows using the peak width as defined in the peaklist is extracted and displayed. The current rt window is visualized as green box. SET RT TO CURRENT VIEW will set the rt_min and rt_max values to the current view and updated the peaklist accordingly.","title":"Manual (interactive) peak optimization"},{"location":"gui/#processing","text":"Run MINT (apply the extraction protocol to all files in the workspace) Download results Reset results and start again When all peaks look good the data can be processed using RUN MINT . This will apply the current peaklist to the MS-files in the workspace and extract additional properties. When the results tables are present the results can be explored with the following tabs. The generated results can be downloaded with the DOWNLOAD button.","title":"Processing"},{"location":"gui/#analysis","text":"After running MINT the results can be downloaed or analysed using the provided tools. For quality control purposes histograms and boxplots can be generated in the quality control tab. The interactive heatmap tool can be used to explore the results data after RUN MINT has been exectuted. The tool allows to explore the generated data in from of heatmaps.","title":"Analysis"},{"location":"gui/#general-selection-elements","text":"Include/exclude file types (based on Type column in metadata) Include/exclude peak labels for analysis Set file sorting (e.g. by name, by batch etc.) Select group-by column for coloring and statistics","title":"General selection elements"},{"location":"gui/#heatmap","text":"The first dropdown menu allows to include certain file types e.g. biological samples rather than quality control samples. The second dropdown menu distinguishes the how the heatmap is generated. Normalized by biomarer: devide values by column maxium. Cluster: Cluster rows with hierachical clustering. Dendrogram: Plots a dendrogram instead of row labels. Transpose: Switch columns and rows. Correlation: Calculate pearson correlation between columns. Show in new tab: The figure will be generated in a new independent tab. That way multiple heatmaps can be generated at the same time.","title":"Heatmap"},{"location":"gui/#correlation-of-scaled-peak_max","text":"","title":"Correlation of (scaled) peak_max"},{"location":"gui/#distributions","text":"Plot histograms Density distributions Boxplots The MS-files can be grouped based on the values in the metadata table. If nothing is selected the data will not be grouped in order to plot the overall distribution. The second dropdown menu allows to select one or multple kinds of graphs that to generate. The third dropdown menu allows to include certain file types. For example, the analysis can be limited to only the biological samples if such a type has been defined in the type column of the metadata table. The checkbox can be used to create a dense view. If the box is unchecked the output will be visually grouped into an individual section for each metabolite.","title":"Distributions"},{"location":"gui/#pca","text":"Perform Principal Component Analysis (PCA) Plot projections to first N principal components Contributions of original variables to each component.","title":"PCA"},{"location":"gui/#hierarchical-clustering","text":"","title":"Hierarchical clustering"},{"location":"gui/#plotting","text":"MINT comes with a flexible and powerful plotting interface that is based on the powerful Seaborn library. Bar plots Violin plots Boxen plot Scatter plots and more...","title":"Plotting"},{"location":"install/","text":"Installation Installation with PIP (Linux, MacOS, Windows) The latest release of the program can easily be installed in a standard Python 3 (>= 3.7) environment using the widely used package manager pip : pip install ms-mint Should download and install all necessary dependencies and Mint. Mint should then be available via Mint.py Windows Installer For Windows 10 a build is provided here . The installer generates an icon in the windows start menu. There will be a terminal be shown, with potentially some errors due to missing files which can be ignored. Give it some time until the server is running and then navigate to http://localhost:9999 in the browser. Start Mint.py After installation MINT can be started by running Mint.py . Mint.py --help usage: Mint.py [-h] [--no-browser] [--version] [--data-dir DATA_DIR] [--debug] [--port PORT] [--serve-path SERVE_PATH] MINT frontend. optional arguments: -h, --help show this help message and exit --no-browser do not start the browser --version print current version --data-dir target directory for MINT data --debug start MINT server in debug mode --port change the port --serve-path serve app at a different path e.g. '/mint/' to serve the app at 'localhost:9999/mint/' If the browser does not open automatically open it manually and navigate to http://localhost:9999 . The app's frontend is build using Plotly-Dash and runs locally in a browser. Thought, the Python functions provided can be imported and used in any Python project independently. The GUI is under active development and may be optimized in the future. Docker MINT is now available on DockerHub in containerized format. A container is a standard unit of software that packages up code and all its dependencies, so the application runs quickly and reliably from one computing environment to another. In contrast to a virtual machine (VM), a Docker container image is a lightweight, standalone, executable package of software that includes everything needed to run an application: code, runtime, system tools, system libraries and settings. This allows to run MINT on any computer that can run Docker. The following command can be used to pull the latest image from docker hub. docker pull msmint/msmint:latest The image can be started with: docker run -p 9999:9999 -it msmint/msmint:latest -v /data/:/data/ Then the tool is available in the browser at http://localhost:9999. From source Here we use conda from the miniconda package to install dependencies in a virtual environment. git clone https://github.com/soerendip/ms-mint cd ms-mint conda create -n ms-mint python=3.8 conda activate ms-mint pip setup.py install # for regular install pip install -e . # for development","title":"Installation"},{"location":"install/#installation","text":"","title":"Installation"},{"location":"install/#installation-with-pip-linux-macos-windows","text":"The latest release of the program can easily be installed in a standard Python 3 (>= 3.7) environment using the widely used package manager pip : pip install ms-mint Should download and install all necessary dependencies and Mint. Mint should then be available via Mint.py","title":"Installation with PIP (Linux, MacOS, Windows)"},{"location":"install/#windows-installer","text":"For Windows 10 a build is provided here . The installer generates an icon in the windows start menu. There will be a terminal be shown, with potentially some errors due to missing files which can be ignored. Give it some time until the server is running and then navigate to http://localhost:9999 in the browser.","title":"Windows Installer"},{"location":"install/#start-mintpy","text":"After installation MINT can be started by running Mint.py . Mint.py --help usage: Mint.py [-h] [--no-browser] [--version] [--data-dir DATA_DIR] [--debug] [--port PORT] [--serve-path SERVE_PATH] MINT frontend. optional arguments: -h, --help show this help message and exit --no-browser do not start the browser --version print current version --data-dir target directory for MINT data --debug start MINT server in debug mode --port change the port --serve-path serve app at a different path e.g. '/mint/' to serve the app at 'localhost:9999/mint/' If the browser does not open automatically open it manually and navigate to http://localhost:9999 . The app's frontend is build using Plotly-Dash and runs locally in a browser. Thought, the Python functions provided can be imported and used in any Python project independently. The GUI is under active development and may be optimized in the future.","title":"Start Mint.py"},{"location":"install/#docker","text":"MINT is now available on DockerHub in containerized format. A container is a standard unit of software that packages up code and all its dependencies, so the application runs quickly and reliably from one computing environment to another. In contrast to a virtual machine (VM), a Docker container image is a lightweight, standalone, executable package of software that includes everything needed to run an application: code, runtime, system tools, system libraries and settings. This allows to run MINT on any computer that can run Docker. The following command can be used to pull the latest image from docker hub. docker pull msmint/msmint:latest The image can be started with: docker run -p 9999:9999 -it msmint/msmint:latest -v /data/:/data/ Then the tool is available in the browser at http://localhost:9999.","title":"Docker"},{"location":"install/#from-source","text":"Here we use conda from the miniconda package to install dependencies in a virtual environment. git clone https://github.com/soerendip/ms-mint cd ms-mint conda create -n ms-mint python=3.8 conda activate ms-mint pip setup.py install # for regular install pip install -e . # for development","title":"From source"},{"location":"jupyter/","text":"Jupyter integration Interactive MINT MINT can be used interactively in a Jupyter Notebook with a GUI that is based on IPython-Widgets or programmatically. from ms_mint.notebook import Mint mint = Mint(verbose=False) mint.show() With the JupyterLab it is possible to customize the GUI to personal needs. A demo notebook is available here . Select MS-files from glob import glob mint.ms_files = glob('/path/to/files/*mzML') Select peaklist files mint.peaklist_files = '/path/to/peaklist/file/peaklist.csv' Optimize retention times mint.optimize_retention_times() Run MINT mint.run() Display results That way the results will be readily available for further analysis. mint.results","title":"Jupyter"},{"location":"jupyter/#jupyter-integration","text":"","title":"Jupyter integration"},{"location":"jupyter/#interactive-mint","text":"MINT can be used interactively in a Jupyter Notebook with a GUI that is based on IPython-Widgets or programmatically. from ms_mint.notebook import Mint mint = Mint(verbose=False) mint.show() With the JupyterLab it is possible to customize the GUI to personal needs. A demo notebook is available here .","title":"Interactive MINT"},{"location":"jupyter/#select-ms-files","text":"from glob import glob mint.ms_files = glob('/path/to/files/*mzML')","title":"Select MS-files"},{"location":"jupyter/#select-peaklist-files","text":"mint.peaklist_files = '/path/to/peaklist/file/peaklist.csv'","title":"Select peaklist files"},{"location":"jupyter/#optimize-retention-times","text":"mint.optimize_retention_times()","title":"Optimize retention times"},{"location":"jupyter/#run-mint","text":"mint.run()","title":"Run MINT"},{"location":"jupyter/#display-results","text":"That way the results will be readily available for further analysis. mint.results","title":"Display results"},{"location":"quickstart/","text":"Quickstart A demo server is available here . Be mindful, you share the server with others. Download the demo files from Google Drive and extract the archive. You will find two csv files and 12 mzXML and/or mzML files. A folder with 12 mass-spectrometry (MS) files from microbial samples. We have four files for each Staphylococcus aureus (SA), Escherichia coli (EC), and Candida albicans (CA). Each file belongs to one of four batches (B1-B4). MINT-metadata.csv contains this information in tabular format. Setting up the metadata for your project is essential. MINT-targets.csv contains the extraction lists. The identification of the metabolites has been done before, so we know where the metabolites appear in the MS data. 1. Open the MINT application and create a new workspace named DEMO. At workspaces click on CREATE WORKSPACE . Type DEMO into the text field and click on CREATE . 2. Make sure the DEMO workspace is activated, indicated by a blue bullet in the workspace table. 3. Switch to MS-Files and upload the 12 MS files. Wait until all files are uploaded. 4. Switch to Metadata and upload MINT-metadata.csv . This file contains information about your samples. Setting up metadata is important and needs to be done with care. Your downstream analysis will benefit greatly from a good metadata table. PeakOpt if True these files will be used in the peak optimization tab. Label should be used to indicate the group of the sampe. E.g. treatment group vs control group. Batch is the batch ID, for example the plate if samples come from multiple plates. Type indicates the type for the sample. By default evertying is called Biological Sample , other meaningful labels are Standard Sample or Quality Control . Row and Column indicate the location of the sample on the plate e.g. 1-12 and A-H for a 96-well plate. RunOrder can contain the order 1-N in which the samples were processed. Add more columns if you need. You can download the file, add new columns with Excel, and upload the table again. Use the action to set multiple cell values at once. 5. Switch to Targets and upload MINT-targets.csv . This is the data extraction protocol. This determines what data is extracted from the files. The same protocol is applied to all files. No fitting or peak optimization is done. MINT therefore requires a very stable chromatographic column and stable retention times for all files in a workspace. 6. Switch to Peak Optimization Switch the File selection to Use all files . Normally, especially for large datasets, you should select a small representative set of samples. The peak optimization takes longer the more files are used for it and the more targets are defined. 'Click on UPDATE PEAK PREVIEWS . here you can see the shapes of the extracted peaks. optimize the retention time with the interactive tool. you can click on the image to load the data into the interactive tool or use the dropdown menu. highlight the prefered region (highlighted in green) and click on SET RT TO CURRENT VIEW to update the retention time window. the horizontal bar indicates how far away the selected window is from the rt reference value in the Targets . if you are happy with the peak shapes you can proceed to Processing . 6. Switch to Processing and start the data extraction with Run MINT The extraction process is done when you get a green notification Finished running MINT . Now, you can download the results in long-format or the dense peak_max values. The tidy format contains all results, while the DENSE PEAK_MAX only contians the peak_max values as a matrix. 7. Switch to Analysis . Once the results are generated the 'Heatmap tab will show an interactive heatmap. You can change the size of the heatmap by changing your browser window and UPDATE the plot. The heatmap shows the peak_max` values. The dropdown menu provides some options. 8. Switch to Analysis/Plotting The plotting tool is very powerful, but requires some practise. It is a wrapper of the powerful seaborn API. Let's create a few simple visualizations. And click on Update . A very simple bar-graph is shown, and we will gradually make it more complex. This simple bar graph shows the average peak_max value across the whole dataset for all targets. a) select peak_label for the X axis. b) set aspect-ratio to 5. c) select Logarithmic y-scale in the dropdown options. d) click on UPDATE . e) set figure height to 1.5 and aspect ratio to 2 . e) set Column to Label . f) set Row to Batch . This way you can look at the whole dataset at once, sliced by Batch and Label Exercise: Try to create the following plot:","title":"Quickstart"},{"location":"quickstart/#quickstart","text":"A demo server is available here . Be mindful, you share the server with others. Download the demo files from Google Drive and extract the archive. You will find two csv files and 12 mzXML and/or mzML files. A folder with 12 mass-spectrometry (MS) files from microbial samples. We have four files for each Staphylococcus aureus (SA), Escherichia coli (EC), and Candida albicans (CA). Each file belongs to one of four batches (B1-B4). MINT-metadata.csv contains this information in tabular format. Setting up the metadata for your project is essential. MINT-targets.csv contains the extraction lists. The identification of the metabolites has been done before, so we know where the metabolites appear in the MS data.","title":"Quickstart"},{"location":"quickstart/#1-open-the-mint-application-and-create-a-new-workspace-named-demo","text":"At workspaces click on CREATE WORKSPACE . Type DEMO into the text field and click on CREATE .","title":"1. Open the MINT application and create a new workspace named DEMO."},{"location":"quickstart/#2-make-sure-the-demo-workspace-is-activated-indicated-by-a-blue-bullet-in-the-workspace-table","text":"","title":"2. Make sure the DEMO workspace is activated, indicated by a blue bullet in the workspace table."},{"location":"quickstart/#3-switch-to-ms-files-and-upload-the-12-ms-files","text":"Wait until all files are uploaded.","title":"3. Switch to MS-Files and upload the 12 MS files."},{"location":"quickstart/#4-switch-to-metadata-and-upload-mint-metadatacsv","text":"This file contains information about your samples. Setting up metadata is important and needs to be done with care. Your downstream analysis will benefit greatly from a good metadata table. PeakOpt if True these files will be used in the peak optimization tab. Label should be used to indicate the group of the sampe. E.g. treatment group vs control group. Batch is the batch ID, for example the plate if samples come from multiple plates. Type indicates the type for the sample. By default evertying is called Biological Sample , other meaningful labels are Standard Sample or Quality Control . Row and Column indicate the location of the sample on the plate e.g. 1-12 and A-H for a 96-well plate. RunOrder can contain the order 1-N in which the samples were processed. Add more columns if you need. You can download the file, add new columns with Excel, and upload the table again. Use the action to set multiple cell values at once.","title":"4. Switch to Metadata and upload MINT-metadata.csv."},{"location":"quickstart/#5-switch-to-targets-and-upload-mint-targetscsv","text":"This is the data extraction protocol. This determines what data is extracted from the files. The same protocol is applied to all files. No fitting or peak optimization is done. MINT therefore requires a very stable chromatographic column and stable retention times for all files in a workspace.","title":"5. Switch to Targets and upload MINT-targets.csv."},{"location":"quickstart/#6-switch-to-peak-optimization","text":"Switch the File selection to Use all files . Normally, especially for large datasets, you should select a small representative set of samples. The peak optimization takes longer the more files are used for it and the more targets are defined. 'Click on UPDATE PEAK PREVIEWS . here you can see the shapes of the extracted peaks. optimize the retention time with the interactive tool. you can click on the image to load the data into the interactive tool or use the dropdown menu. highlight the prefered region (highlighted in green) and click on SET RT TO CURRENT VIEW to update the retention time window. the horizontal bar indicates how far away the selected window is from the rt reference value in the Targets . if you are happy with the peak shapes you can proceed to Processing .","title":"6. Switch to Peak Optimization"},{"location":"quickstart/#6-switch-to-processing-and-start-the-data-extraction-with-run-mint","text":"The extraction process is done when you get a green notification Finished running MINT . Now, you can download the results in long-format or the dense peak_max values. The tidy format contains all results, while the DENSE PEAK_MAX only contians the peak_max values as a matrix.","title":"6. Switch to Processing and start the data extraction with Run MINT"},{"location":"quickstart/#7-switch-to-analysis","text":"Once the results are generated the 'Heatmap tab will show an interactive heatmap. You can change the size of the heatmap by changing your browser window and UPDATE the plot. The heatmap shows the peak_max` values. The dropdown menu provides some options.","title":"7. Switch to Analysis."},{"location":"quickstart/#8-switch-to-analysisplotting","text":"The plotting tool is very powerful, but requires some practise. It is a wrapper of the powerful seaborn API. Let's create a few simple visualizations. And click on Update . A very simple bar-graph is shown, and we will gradually make it more complex. This simple bar graph shows the average peak_max value across the whole dataset for all targets.","title":"8. Switch to Analysis/Plotting"},{"location":"quickstart/#a-select-peak_label-for-the-x-axis","text":"","title":"a) select peak_label for the X axis."},{"location":"quickstart/#b-set-aspect-ratio-to-5","text":"","title":"b) set aspect-ratio to 5."},{"location":"quickstart/#c-select-logarithmic-y-scale-in-the-dropdown-options","text":"","title":"c) select Logarithmic y-scale in the dropdown options."},{"location":"quickstart/#d-click-on-update","text":"","title":"d) click on UPDATE."},{"location":"quickstart/#e-set-figure-height-to-15-and-aspect-ratio-to-2","text":"","title":"e) set figure height to 1.5 and aspect ratio to 2."},{"location":"quickstart/#e-set-column-to-label","text":"","title":"e) set Column to Label."},{"location":"quickstart/#f-set-row-to-batch","text":"This way you can look at the whole dataset at once, sliced by Batch and Label","title":"f) set Row to Batch."},{"location":"quickstart/#exercise-try-to-create-the-following-plot","text":"","title":"Exercise: Try to create the following plot:"},{"location":"targets/","text":"Target lists A target list contains the definitions of peaks to be extracted in terms of retention time and mz value. The important parameters for MINT are rt_min and rt_max . The rt value is only used as an estimate and used for comparison. You should know, from former identification runs, at what retention time to expect a certain metabolite. This is what rt is for. For the final extraction process however rt_min and rt_max are used. Before you process the MS files, you should check that all targts have rt_min and rt_max properly set. Target list format The target list is the determining protocol for the data processing step. You can reproduce all results using this list as input. A target list can be provided as csv (comma separated values) or xlsx (Microsoft Excel) file. If the preaklist is provided as multi-sheet xlsx file the target list should be the first sheet. The input files contains a number of columns headers in the target list should contain: peak_label : A unique identifier such as the biomarker name or ID. Even if multiple peaklist files are used, the label have to be unique across all the files. mz_mean : The target mass (m/z-value) in [Da]. mz_width : The width of the peak in the m/z-dimension in units of ppm. The window will be mz_mean +/- (mz_width * mz_mean * 1e-6). Usually, a values between 5 and 10 are used. rt : Estimated retention time in [min] (optional, see above). rt_min : The start of the retention time for each peak in [min]. rt_max : The end of the retention time for each peak in [min]. intensity_threshold : A threshold that is applied to filter noise for each window individually. Can be set to 0 or any positive value. Example file target.csv: peak_label,mz_mean,mz_width,rt_min,rt_max,intensity_threshold Biomarker-A,151.0605,10,4.65,5.2,0 Biomarker-B,151.02585,10,4.18,4.53,0 A template can be created using the GUI .","title":"Targets"},{"location":"targets/#target-lists","text":"A target list contains the definitions of peaks to be extracted in terms of retention time and mz value. The important parameters for MINT are rt_min and rt_max . The rt value is only used as an estimate and used for comparison. You should know, from former identification runs, at what retention time to expect a certain metabolite. This is what rt is for. For the final extraction process however rt_min and rt_max are used. Before you process the MS files, you should check that all targts have rt_min and rt_max properly set.","title":"Target lists"},{"location":"targets/#target-list-format","text":"The target list is the determining protocol for the data processing step. You can reproduce all results using this list as input. A target list can be provided as csv (comma separated values) or xlsx (Microsoft Excel) file. If the preaklist is provided as multi-sheet xlsx file the target list should be the first sheet. The input files contains a number of columns headers in the target list should contain: peak_label : A unique identifier such as the biomarker name or ID. Even if multiple peaklist files are used, the label have to be unique across all the files. mz_mean : The target mass (m/z-value) in [Da]. mz_width : The width of the peak in the m/z-dimension in units of ppm. The window will be mz_mean +/- (mz_width * mz_mean * 1e-6). Usually, a values between 5 and 10 are used. rt : Estimated retention time in [min] (optional, see above). rt_min : The start of the retention time for each peak in [min]. rt_max : The end of the retention time for each peak in [min]. intensity_threshold : A threshold that is applied to filter noise for each window individually. Can be set to 0 or any positive value.","title":"Target list format"},{"location":"targets/#example-file","text":"target.csv: peak_label,mz_mean,mz_width,rt_min,rt_max,intensity_threshold Biomarker-A,151.0605,10,4.65,5.2,0 Biomarker-B,151.02585,10,4.18,4.53,0 A template can be created using the GUI .","title":"Example file"}]}